<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KOSMO TOTO – Generator Angka</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(rgba(0,191,255,.75),rgba(0,191,255,.75)),
             url("https://i.ibb.co/QvPJVhRr/background.jpg") center/cover fixed;
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:30px 15px;
}
.logo{max-width:130px;margin-bottom:6px}
h1{
  margin:4px 0;
  font-size:40px;
  background:linear-gradient(120deg,#ffd700,#fff,#ffd700);
  background-size:200% auto;
  -webkit-background-clip:text;
  color:transparent;
  animation:shine 2s linear infinite;
}
@keyframes shine{0%{background-position:200%}100%{background-position:-200%}}
.subtitle{font-size:14px;opacity:.9;margin-bottom:12px}
.field{width:100%;max-width:520px;margin-bottom:10px}
label{font-size:13px;margin-bottom:5px;display:block}
input{
  width:100%;padding:11px;border-radius:12px;border:none;font-size:14px
}
button{
  width:100%;max-width:520px;
  padding:13px;margin-top:10px;
  border:none;border-radius:14px;
  background:linear-gradient(135deg,#ffd700,#ffb700);
  font-weight:bold;cursor:pointer
}
.result{
  width:100%;max-width:520px;
  margin-top:14px;
  background:rgba(0,0,0,.25);
  padding:14px;border-radius:14px;
  font-size:14px;line-height:1.6
}
.top3{color:#ffd700;font-weight:bold}
</style>
</head>

<body>

<img src="https://i.ibb.co/CsXqGZVn/logo.png" class="logo">
<h1>KOSMO TOTO</h1>
<div class="subtitle">Generator Rumus Angka</div>

<div class="field">
<label>Result Sebelumnya (4D)</label>
<input id="prev" maxlength="4" placeholder="Contoh: 7307">
</div>

<button onclick="generate()">GENERATE</button>

<div class="result" id="result">-</div>

<script>
/* ================= UTIL ================= */
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    let j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}
function uniq(arr){return [...new Set(arr)];}

/* ================= SHIO ================= */
function getShio(num){
  const t={
    "ULAR":["01","13","25","37","49","61","73","85","97"],
    "NAGA":["02","14","26","38","50","62","74","86","98"],
    "KELINCI":["03","15","27","39","51","63","75","87","99"],
    "HARIMAU":["04","16","28","40","52","64","76","88","00"],
    "KERBAU":["05","17","29","41","53","65","77","89"],
    "TIKUS":["06","18","30","42","54","66","78","90"],
    "BABI":["07","19","31","43","55","67","79","91"],
    "ANJING":["08","20","32","44","56","68","80","92"],
    "AYAM":["09","21","33","45","57","69","81","93"],
    "MONYET":["10","22","34","46","58","70","82","94"],
    "KAMBING":["11","23","35","47","59","71","83","95"],
    "KUDA":["12","24","36","48","60","72","84","96"]
  };
  num=num.padStart(2,"0");
  for(let s in t){if(t[s].includes(num)) return s;}
  return "-";
}

/* ================= LOGIKA ================= */

// POLTAR dari result + penyeimbang
function buildPoltar(prev){
  let base=uniq(prev.split(""));
  let tambahan=[9,4,1,6,8].filter(n=>!base.includes(String(n)));
  while(base.length<5) base.push(String(tambahan.shift()));
  return base.map(Number).slice(0,5);
}

// BBFS = POLTAR ±1
function buildBBFS(poltar){
  let b=[];
  poltar.forEach(n=>{
    b.push(n,(n+1)%10,(n+9)%10);
  });
  return uniq(b).sort().slice(0,8);
}

// 4D acak kuat (tanpa twin)
function gen4D(bbfs,count){
  let res=[];
  while(res.length<count){
    let n=shuffle([...bbfs]).slice(0,4).join("");
    if(!/(\d)\1/.test(n)) res.push(n);
  }
  return uniq(res).slice(0,count);
}

function generate(){
  let prev=document.getElementById("prev").value;
  if(!/^\d{4}$/.test(prev)){alert("Result harus 4 digit");return;}

  // POLTAR & BBFS
  let poltar=buildPoltar(prev);
  let bbfs=buildBBFS(poltar);

  // CB
  let cb=[poltar[2],poltar[1]];

  // 4D / 3D / 2D
  let h4=gen4D(bbfs,3);
  let h3=h4.map(n=>n.slice(1));
  let h2=h3.map(n=>n.slice(1));

  // TWIN dari POLTAR
  let twin=poltar.slice(1,3).map(n=>`${n}${n}`);

  // SHIO dari 2D
  let shio=uniq(h2.map(n=>getShio(n)));

  // OUTPUT FORMAT FINAL
  let html=`
<b>POLTAR :</b> ${poltar.join(" ")}<br>
<b>BBFS :</b> ${bbfs.join(" ")}<br>
<b>CB :</b> ${cb[0]} / ${cb[1]}<br><br>

<b>4D :</b> ${h4.join(" - ")}<br>
<b>3D :</b> ${h3.join(" - ")}<br>
<b>2D :</b> ${h2.join(" - ")}<br><br>

<b>TWIN :</b> ${twin.join(" - ")}<br>
<b>SHIO :</b> ${shio.join(" - ")}
`;

  document.getElementById("result").innerHTML=html;
}
</script>
/* POPUP */
const bonusIDs=["Ekobakso","Roses22","Dede007","Erpandi","Jangkrik","Setan83"];
const withdrawIDs=["debos","dend","dian81","dista45","dragonball","Maxwin"];
function rnd(a){return a[Math.floor(Math.random()*a.length)]}
function rupiah(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}
function showPopup(t){
 let p=document.getElementById("popup");
 p.innerHTML=t;
 p.style.bottom="20px";
 p.style.opacity="1";
 setTimeout(()=>{p.style.bottom="-100px";p.style.opacity="0"},3000);
}
let w=true;
setInterval(()=>{
 let id,amt;
 if(w){
  id=rnd(withdrawIDs);amt=Math.floor(Math.random()*5e6)+1e5;
  showPopup(`ID (${id}) BERHASIL WITHDRAW RP ${rupiah(amt)}`);
 }else{
  id=rnd(bonusIDs);amt=Math.floor(Math.random()*2e6)+5e4;
  showPopup(`ID (${id}) CLAIM BONUS RP ${rupiah(amt)}`);
 }
 w=!w;
},3500);
</script>

</body>
</html>
